- [Описание проекта](#Описание-проекта)
    - [Часть №1](#Часть-1)
    - [Часть №12](#Часть-2)
- [Cтек](#Cтек)
    - [Дополнительно](#Дополнительно)
- [Подготовка](#Подготовка)
- [Список задач](#Список-задач)
- [Пример](#Пример)

# Описание проекта

Онлайн каталог сотрудников для компании с более чем 50,000 сотрудников.

### Часть №1

1. (+) Создайте веб страницу, которая будет выводить иерархию сотрудников в древовидной форме.
2. (+) Информация о каждом сотруднике должна храниться в базе данных и содержать следующие данные:
    2.1 ФИО;
    2.2 Должность;
    2.3 Дата приема на работу;
    2.4 Размер заработной платы;
3. (+) У каждого сотрудника есть 1 начальник.
4. (+) База данных должна содержать не менее 50 000 сотрудников и 5 уровней иерархий.
3. (+) Отобразить должность сотрудника.

### Часть №2

1. (+) Создайте базу данных используя миграции Laravel / Symfony.
2. (+) Используйте Laravel / Symfony seeder для заполнения базы данных.
3. (+) Используйте Twitter Bootstrap для создания базовых стилей Вашей страницы.
4. (+) Создайте еще одну страницу и выведите на ней список сотрудников со всей  
имеющейся о сотруднике информацией из базы данных и возможностью сортировать по любому полю.
5. (+) Добавьте возможность поиска сотрудников по любому полю для страницы созданной в задаче 4.
6. (+) Добавьте возможность сортировать (и искать если Вы выполнили задачу №5) по любому полю  
без перезагрузки страницы, например используя ajax.
7. (+) Используя стандартные функции Laravel / Symfony, осуществите аутентификацию пользователя для раздела  
веб сайта доступного только для зарегистрированных пользователей.
8. (+) Перенесите функционал разработанный в задачах 4, 5 и 6 (используя ajax запросы)  
в раздел доступный только для зарегистрированных пользователей.
9. (+) В разделе доступном только для зарегистрированных пользователей, реализуйте остальные CRUD операции  
для записей сотрудников. Все поля касающиеся пользователей должны быть редактируемыми, включая начальника каждого сотрудника.
10. (-) Осуществите возможность загружать фотографию сотрудника и отобразите ее на странице,  
где можно редактировать данные о сотрудник. Добавьте дополнительную колонку с уменьшенной фотографией сотрудника  
на странице списка всех сотрудников.
11. (-) Осуществите возможность перераспределения сотрудников в случае изменения начальника  
(с применением встроенных механизмов/парадигм, предлагаемых Laravel / Symfony ORM).
12. (+) Реализуйте ленивую загрузку для дерева сотрудников. Например, показывайте первые два уровня иерархии 
по умолчанию и подгружайте 2 следующих уровня или всю ветку дерева при клике на сотрудника второго уровня.
13. (-) Реализуйте возможность менять начальника сотрудника используя drag-n-drop сразу в дереве сотрудников.
14. (-) Создайте структуру базы данных используя MySQL Workbench и сгенерируйте файл(ы) миграций с
помощью Laravel / Symfony из существующей БД MySQL, или прямо из файла проекта MySQL Workbench.

## Cтек

* [Laravel](https://github.com/laravel/laravel)
* [Vue.js](https://github.com/vuejs/vue)
* [Bootstrap](https://github.com/twbs/bootstrap)

### Дополнительно

* [baum/baum](https://github.com/etrepat/baum) - Baum is an implementation of the Nested Set pattern for Laravel 5's Eloquent ORM.
* [fzaninotto/faker](https://github.com/fzaninotto/Faker) - Faker is a PHP library that generates fake data for you.
* [axios](https://github.com/axios/axios) - Promise based HTTP client for the browser and node.js
* [vuejs-datepicker](https://github.com/charliekassel/vuejs-datepicker) - A datepicker Vue component. Compatible with Vue 2.x
* [v-autocomplete](https://github.com/paliari/v-autocomplete) - Autocomplete component for Vue.js
* [v-debounce](https://github.com/vuejs-tips/v-debounce) - Input debounce directive for Vue.js
* [moment.js](https://github.com/moment/moment) - A lightweight JavaScript date library for parsing, validating, manipulating, and formatting dates.
* [fico7489/laravel-eloquent-join](https://github.com/fico7489/laravel-eloquent-join) - This package introduces the join capability for sorting and filtering on eloquent relations.
* [cross-env](https://github.com/kentcdodds/cross-env) - Run scripts that set and use environment variables across platforms

## Подготовка

* git clone or download zip
* edit .env
* composer install
* npm install
* php artisan migrate
* php artisan db:seed
* npm run dev | npm run build

В ENV доп 3 параметра для заполнения бд:

* EMP_COUNT_SEED=2000 // Кол-во сотрудников
* DIR_COUNT_SEED=1 // Кол-во директоров (root node)
* DEPTH_TREE=10 // Глубина дерева, кол-во уровней

## Пример
test account:

user: test@gmail.com

pass: 123456

[Пример](https://vuelaravel.000webhostapp.com)

На данный момент не редактирование и создание новой записи работает только локально.
На хостинге возникла ошибка.

## Список задач

* драг н дроп дерева
* загрузка и отображение фото
* перераспределение сотрудников в случае изменения начальника (парадигма ларавел) 
* Создайте структуру базы данных используя MySQL Workbench
* ================
* добавить комментарии к php коду
* добавить комментарии к js коду
* привести в порядок код (оптимизация, паттерны, следование правилам)
* добавить изменения кол-ва сотрудников на странице (per_page)
* анимации/плавный переход
* добавить тесты php кода
* добавить тесты js кода
* добавить кеширование
* разобраться с автоматическим деплоем
* Разобраться с ошибкой ( Uncaught (in promise) TypeError: Cannot read property 'data' of undefined
    at app.js:1 )

